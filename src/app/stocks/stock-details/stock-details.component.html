<div>
    <div class="heading-shares-section">
        <i class="back fa fa-long-arrow-right" aria-hidden="true" routerLink="/stocks"></i>
        <p class="screen-title">נתוני מניה</p>
    </div>
    <div class="container">
        <div class="share-section">
            <h2>{{share.name}}</h2>
            <p>מחיר: ${{share.currentPrice}}</p>
            <p>כמות: {{share.amount}}</p>
        </div>
    </div>
    <div class="table-container">
        <p class="table-title">הצעות פתוחות</p>
        <table *ngIf="dataSource" mat-table [dataSource]="dataSource" class="mat-elevation-z8" dir="rtl"
            [loading]="isOffersLoading">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef>תאריך</th>
                <td mat-cell *matCellDef="let element"> {{element.requestDate | date:'dd/MM/YYYY'}} </td>
            </ng-container>

            <ng-container matColumnDef="type">
                <th mat-header-cell *matHeaderCellDef>סוג הצעה</th>
                <td mat-cell *matCellDef="let element"> {{element.type == 'buy' ? 'קניה' : 'מכירה'}} </td>
            </ng-container>

            <ng-container matColumnDef="offeredType">
                <th mat-header-cell *matHeaderCellDef>סוג המציע</th>
                <td mat-cell *matCellDef="let element"> {{element.offeredType == 'trader' ? 'סוחר' : 'חברה'}} </td>
            </ng-container>

            <ng-container matColumnDef="offeredName">
                <th mat-header-cell *matHeaderCellDef>שם המציע</th>
                <td mat-cell *matCellDef="let element"> {{element.offeredType == 'trader' ? element.offeredTrader?.name
                    : share?.name}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <div *ngIf="!dataSource.length && !isOffersLoading">
            <p class="records-not-found">!לא נמצאו הצעות פתוחות למניה זו</p>
        </div>
    </div>
</div>